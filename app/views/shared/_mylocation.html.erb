<div id="map"></div>
<script>



  var map;
  var my_location;
  function initMap() {


// this is not working...

    if(navigator.geolocation) {
     navigator.geolocation.getCurrentPosition(function(position){
       var lat = parseFloat(position.coords.latitude);
       var lon = parseFloat(position.coords.longitude);
       console.log(lat);
       console.log(lon);
       my_location = {latit: lat, longit: lon};
    });
  };



    map = new google.maps.Map(document.getElementById('map'), {
      center: my_location,
      zoom: 12
    });

    // var marker = new google.maps.Marker({
    //    position: myLatLng,
    //    map: map,
    //    center: myLatLng,
    //    title: 'Hello World!'
    //  });
    console.log(my_location);



  }



</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCV_0Qx_HcUnHdLQwzm0BxjNLfcJQdifU&callback=initMap"
async defer></script>
